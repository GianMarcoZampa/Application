
<LoginWindow>:
    name: "login"

    email: email
    password: password

    FloatLayout:
        cols: 1
        Label:
            text: "Draw It 1.0"
            size_hint: 0.3, 0.3
            pos_hint: {"center_x": 0.5, "top": 0.85}
            font_size: (root.width + root.height) * 0.05

        FloatLayout:
            Label:
                text: "Email: "
                size_hint: 0.09, 0.05
                pos_hint: {"center_x":0.395, "top":0.5}
                font_size: (root.width + root.height) * 0.01

            TextInput:
                id: email
                size_hint: 0.21, 0.05
                pos_hint: {"center_x":0.545, "top":0.5}
                font_size: (root.width + root.height) * 0.01
                multiline: False

            Label:
                text: "Password: "
                size_hint: 0.09, 0.05
                pos_hint: {"center_x":0.395, "top":0.45}
                font_size: (root.width + root.height) * 0.01

            TextInput:
                id: password
                size_hint: 0.21, 0.05
                pos_hint: {"center_x":0.545, "top":0.45}
                font_size: (root.width + root.height) * 0.01
                password: True
                multiline: False

        Button:
            text: "Sign in"
            size_hint: 0.3, 0.08
            pos_hint: {"center_x":0.5, "top":0.38}
            font_size: (root.width + root.height) * 0.01
            on_release:
                root.manager.transition.direction = "left"
                root.sign_in()
                root.manager.get_screen("main").set_current_user()

        Button:
            background_color: 1, 1, 1, 0
            text: "Sign up"
            size_hint: 0.3, 0.08
            pos_hint: {"center_x":0.5, "top":0.15}
            font_size: (root.width + root.height) * 0.01
            on_press:
                color = 0, 0, 1
            on_release:
                root.manager.transition.direction = "right"
                root.sign_up()

<RegisterWindow>:
    name: "register"

    email: email
    nickname: nickname
    password: password
    repeated_password: repeated_password

    FloatLayout:
        cols: 1

        Label:
            text: "Register to our application"
            size_hint: 0.2, 0.2
            pos_hint: {"center_x": 0.5, "top": 0.85}
            font_size: (root.width + root.height) * 0.02

        FloatLayout:
            cols: 2

            Label:
                text: "Email: "
                size_hint: 0.14, 0.05
                pos_hint: {"center_x":0.37, "top":0.7}
                font_size: (root.width + root.height) * 0.01

            TextInput:
                id: email
                size_hint: 0.26, 0.05
                pos_hint: {"center_x":0.57, "top":0.7}
                font_size: (root.width + root.height) * 0.01
                multiline: False

            Label:
                text: "Nickname: "
                size_hint: 0.14, 0.05
                pos_hint: {"center_x":0.37, "top":0.65}
                font_size: (root.width + root.height) * 0.01

            TextInput:
                id: nickname
                size_hint: 0.26, 0.05
                pos_hint: {"center_x":0.57, "top":0.65}
                font_size: (root.width + root.height) * 0.01
                multiline: False

            Label:
                text: "Password: "
                size_hint: 0.14, 0.05
                pos_hint: {"center_x":0.37, "top":0.6}
                font_size: (root.width + root.height) * 0.01

            TextInput:
                id: password
                size_hint: 0.26, 0.05
                pos_hint: {"center_x":0.57, "top":0.6}
                font_size: (root.width + root.height) * 0.01
                password: True
                multiline: False

            Label:
                text: "Repeat password: "
                size_hint: 0.14, 0.05
                pos_hint: {"center_x":0.37, "top":0.55}
                font_size: (root.width + root.height) * 0.01

            TextInput:
                id: repeated_password
                size_hint: 0.26, 0.05
                pos_hint: {"center_x":0.57, "top":0.55}
                font_size: (root.width + root.height) * 0.01
                password: True
                multiline: False

        Button:
            text: "Sign up"
            size_hint: 0.4, 0.08
            pos_hint: {"center_x":0.5, "top":0.48}
            font_size: (root.width + root.height) * 0.01
            on_release:
                root.manager.transition.direction = "left"
                root.sign_up()

        Button:
            background_color: 1, 1, 1, 0
            text: "Sign in"
            size_hint: 0.3, 0.08
            pos_hint: {"center_x":0.5, "top":0.3}
            font_size: (root.width + root.height) * 0.01
            on_press:
                color = 0, 0, 1
            on_release:
                root.manager.transition.direction = "left"
                root.sign_in()

<MainWindow>:
    name: "main"

    current_user: current_user
    r: r
    g: g
    b: b
    a: a
    brush_size: brush_size

    FloatLayout:
        cols:1

        BackgroundWidget:
            size_hint: 1, 1
            pos_hint: {"x":0, "top":1}

        Label:
            text: "Draw It 1.0"
            pos_hint: {"x":0, "top":1}
            size_hint: 0.3, 0.05
            font_size: (root.width + root.height) * 0.02

        Button:
            text: "Size"
            pos_hint: {"x":0.3, "top":1}
            size_hint: 0.1, 0.05
            font_size: (root.width + root.height) * 0.01
            color: 0,0,0,1
            background_color: 0,100,255,1

        TextInput:
            id: brush_size
            text: "10"
            pos_hint: {"x":0.4, "top":1}
            size_hint: 0.05, 0.05
            font_size: (root.width + root.height) * 0.01
            multiline: False

        Button:
            text: "Color"
            pos_hint: {"x":0.45, "top":1}
            size_hint: 0.1, 0.05
            font_size: (root.width + root.height) * 0.01
            color: 0,0,0,1
            background_color: 0,100,255,1

        TextInput:
            id: r
            text: "0"
            pos_hint: {"x":0.55, "top":1}
            size_hint: 0.05, 0.05
            font_size: (root.width + root.height) * 0.01
            multiline: False

        TextInput:
            id: g
            text: "0"
            pos_hint: {"x":0.6, "top":1}
            size_hint: 0.05, 0.05
            font_size: (root.width + root.height) * 0.01
            multiline: False

        TextInput:
            id: b
            text: "0"
            pos_hint: {"x":0.65, "top":1}
            size_hint: 0.05, 0.05
            font_size: (root.width + root.height) * 0.01
            multiline: False

        TextInput:
            id: a
            text: "1"
            pos_hint: {"x":0.7, "top":1}
            size_hint: 0.05, 0.05
            font_size: (root.width + root.height) * 0.01
            multiline: False

        Button:
            id: current_user
            pos_hint: {"x":0.75, "top":1}
            size_hint: 0.25, 0.05
            font_size: (root.width + root.height) * 0.015
            text: ""
            background_color: 0,0,255,1
            on_release:
                root.manager.transition.direction = "right"
                root.wait_logout()

<BackgroundWidget>:
    name: "background"

    canvas.before:
        Color:
            rgba: 255,255,255,1
        Rectangle:
            size: self.size
            pos: self.pos
        Color:
            rgba: 0,0,255,1
        Rectangle:
            size: self.width*0.3, self.height*0.05
            pos: self.x , self.y + self.height*0.95
        Color:
            rgba: 0,100,255,1
        Rectangle:
            size: self.width*0.7, self.height*0.05
            pos: self.x + self.width*0.3, self.y + self.height*0.95
